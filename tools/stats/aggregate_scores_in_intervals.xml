<tool id="aggregate_scores_in_intervals1" description="from the table browser (equivalent to wiggle format)." name="Aggregate datapoints">
    <description>Appends the average, min, max, sum, and count of datapoints per interval</description>
    <command interpreter="python2.4">aggregate_scores_in_intervals.py $input2 $input1 $input1_chromCol $input1_startCol $input1_endCol $out_file1</command>
    <inputs>
        <page>
            <param format="text" name="input2" type="data" label="Datapoints from table browser"/>
            <param format="interval" name="input1" type="data" label="Interval file"/>
        </page>
    </inputs>
    <outputs>
        <data format="interval" name="out_file1" metadata_source="input2"/>
    </outputs>
    <tests>
      <test>
        <param name="input1" value="aggregate_binned_scores_in_intervals.bed" />
        <param name="datasets" value="aggregate_binned_scores_in_intervals.wig" />
        <output name="out_file1" file="aggregate_binned_scores_in_intervals.out" />
      </test>
    </tests>
    <help>

.. class:: warningmark

This tool currently only works with data from genome builds hg16, hg17 or hg18.

.. class:: warningmark

This tool assumes that the input dataset is in interval format and contains at least a chrom column, a start column and an end column.  These 3 columns can be dispersed throughout any number of other data columns. 

-----

.. class:: infomark

**TIP:** Computing summary information may throw exceptions if the data type (e.g., string, integer) in every line of the columns is not appropriate for the computation (e.g., attempting numerical calculations on strings).  If an exception is thrown when computing summary information for a line, that line is skipped as invalid for the computation.  The number of invalid skipped lines is documented in the resulting history item as a "Data issue".

-----

**Syntax**

This tool returns aggregated data per interval in the form of the average, minimum and maximum of the data points for each given interval.

Note: Datapoints must be in the format returned by the table browser.

.. image:: ../../static/images/dat_points_table_brows_1.png

-----

**Example**

*Input*

.. image:: ../../static/images/aggregate_history1.png

*Result*

.. image:: ../../static/images/aggregate_history2.png

    </help>
</tool>
