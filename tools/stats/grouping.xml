<tool id="Grouping1" name="Group">
  <description>data by a column and perform aggregate operation on other columns.</description>
  <command interpreter="python2.4">
    grouping.py 
      "$out_file1"
      "$input"
      "$groupcol"
      #for $op in $operations
       '${op.optype}
        ${op.opcol}'
      #end for
  </command>
  <inputs>
    <param format="tabular, interval" name="input" type="data" label="Select data" help="Query missing? See TIP below."/>
    <param name="groupcol" size="40" type="integer" value="1" label="Group by column" />
  	<repeat name="operations" title="Operation">
  		<param name="optype" type="select" label="Type">
            <option value="mean">Mean</option>
            <option value="max">Maximum</option>
            <option value="min">Minimum</option>
            <option value="sum">Sum</option>
            <option value="c">Concatenate</option>
         </param>
         <param name="opcol" size="40" type="integer" value="2" label="On column" />
  	</repeat>
  </inputs>
  
  
  <outputs>
    <data format="input" name="out_file1"/>
  </outputs>
  <tests>
    <test>
      <param name="input" value="1.bed"/>
      <param name="groupcol" value="1"/>
      <param name="operations" value="mean 2"/>
      <output name="out_file1" file="groupby_1.bed"/>
    </test>
  </tests>
  <help>

.. class:: infomark

**TIP:** If your data is not TAB delimited, use *Edit Queries-&gt;Convert characters*

-----

**Syntax**

This tool allows you to group the input dataset by a particular column and perform aggregate functions like Mean, Sum, Max, Min and Concatenate on other columns. 

-----

**Example**

- For the following input::

   chr22  1000  NM_17
   chr22  2000  NM_18
   chr10  2200  NM_10
   chr10  1200  NM_11
   chr22  1600  NM_19

- running this tool with **Group by column 1**, Operations **Mean on column 2** and **Concatenate on column 3** will return::

   chr10  1700.00  ['NM_10', 'NM_11']
   chr22  1533.33  ['NM_17', 'NM_18', 'NM_19']
</help>
</tool>
