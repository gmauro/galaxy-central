<tool id="MAF_Limit_To_Species1" name="Maf Limit to Species">
    <description>Remove undesired species from a MAF file</description>
    <command interpreter="python2.4">maf_limit_to_species.py $species $input1 $out_file1 $allow_partial $min_species</command>
    <inputs>
        <page>
            <param format="maf" name="input1" type="data" label="MAF file"/>
            <param name="allow_partial" type="select">
              <label>Exclude blocks which have missing species</label>
              <option value="1">No</option>
              <option value="0">Yes</option>
            </param>
            <param name="min_species" type="select">
              <label>Exclude blocks which have only one species</label>
              <option value="1">Yes</option>
              <option value="0">No</option>
            </param>
        </page>
        <page>
            <param name="species" type="select" label="Species to keep" dynamic_options="get_available_species( input1.file_name )" display="checkboxes" multiple="true"/>
        </page>
    </inputs>
    <outputs>
        <data format="maf" name="out_file1" />
    </outputs>
    <tests>
      <test>
        <param name="input1" value="4.maf"/>
        <param name="species" values="bosTau2,canFam2,hg17,panTro1,rheMac2,rn3"/>
        <param name="allow_partial" value="0"/>
        <param name="min_species" value="0"/>
        <output name="out_file1" file="cf_maf_limit_to_species.dat"/>
      </test>
    </tests>
    <help>
This tool allows the user to remove any undesired species from a MAF file. Columns which contain only gaps are removed.

The user can choose to keep or discard blocks which do not have all the desired species. 

The user can also choose to include blocks which contain only a single species.
    </help>
    <code file="maf_limit_to_species_code.py"/>
</tool>

