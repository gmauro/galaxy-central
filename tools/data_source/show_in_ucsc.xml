<tool id="show_in_ucsc" name="Display customtrack at UCSC">
    <description>displays selected datasets in the UCSC genome browser</description>
    
    <command interpreter="python2.4">show_in_ucsc.py $out_file1 $primary $primary_color $primary_visib $Color $Visibility $primary_name $other_names $newdata</command>
	<inputs>
		<page>
			<param format="interval" label="Choose primary dataset" name="primary" type="data" />
			<param label="Color" name="primary_color" type="select">
				<option selected="yes" value="0-0-0">Black</option>
				<option value="255-0-0">Red</option>
				<option value="0-255-0">Green</option>
				<option value="0-0-255">Blue</option>
				<option value="255-0-255">Magenta</option>
				<option value="0-255-255">Cyan</option>
				<option value="255-215-0">Gold</option>
				<option value="160-32-240">Purple</option>
				<option value="255-140-0">Orange</option>
				<option value="255-20-147">Pink</option>
				<option value="92-51-23">Dark Chocolate</option>
				<option value="85-107-47">Olive green</option>
			</param>
			<param label="Visibility" name="primary_visib" type="select">
				<option selected="yes" value="1">Dense</option>
				<option value="2">Full</option>
				<option value="3">Pack</option>
				<option value="4">Squish</option>
				<option value="0">Hide</option>
			</param>
			
        </page>
        
        <page>
        	<param name="newdata" type="data" label="Choose datasets" multiple="true"  dynamic_options = " print_out(primary) " />
        	<param label="Change attributes?" name="status" type="select">
				<option value="0" selected="yes"> No </option>
				<option value="1"> Yes </option>
			</param>
			<param type="hidden" name="primary_name" value="hello" dynamic_options = "print_name(primary)"/>
        </page>

		<page>
			<param name="Color" type="select" condition= "status"  repeat= "newdata">
				<option selected="yes" value="0-0-0">Black</option>
				<option value="255-0-0">Red</option>
				<option value="0-255-0">Green</option>
				<option value="0-0-255">Blue</option>
				<option value="255-0-255">Magenta</option>
				<option value="0-255-255">Cyan</option>
				<option value="255-215-0">Gold</option>
				<option value="160-32-240">Purple</option>
				<option value="255-140-0">Orange</option>
				<option value="255-20-147">Pink</option>
				<option value="92-51-23">Dark Chocolate</option>
				<option value="85-107-47">Olive green</option>
			</param>
			<param name="Visibility" type="select" condition= "status"  repeat= "with_Color">
				<option selected="yes" value="1">Dense</option>
				<option value="2">Full</option>
				<option value="3">Pack</option>
				<option value="4">Squish</option>
				<option value="0">Hide</option>
			</param>
			<param type="hidden" name="other_names" dynamic_options = "print_name(newdata)"/>
		</page>
		
	</inputs>
  	<outputs>
    	<data format="customtrack" name="out_file1" />
  	</outputs>
  	<tests>
    	<test>
      		<param name="primary" value="customTrack1.bed" />
      		<param name="primary_color" value="0-0-0" />
      		<param name="primary_visib" value="1" />
      		<param name="primary_name" value="customTrack1.bed" />
      		<param name="newdata" value="customTrack2.bed" />
      		<param name="status" value="1" />
      		<param name="Color" value="255-0-0" />
      		<param name="Visibility" value="2" />
      		<param name="other_names" value="customTrack2.bed" />
      		<output name="out_file1" file="customTrack_output.dat" />
    	</test>
	</tests>

	<help>

**Info**

This tool displays the selected datasets with their custom track attributes (if any) in the UCSC genome browser. 

This tool allows you to set the **Color** and **Visibility** attributes and you can edit the **Name** attribute of the dataset by clicking on **"edit attributes"** button (pencil icon) next to the dataset name in the history panel. 

Please note that the primary dataset in step 1 of the tool sets the database build for the datasets in step 2.

	</help>

<code file="show_in_ucsc_code.py" />
</tool>