<tool id="microbial_import1" name="Get Microbial Data">
  <command interpreter="python">microbial_import.py $CDS,$tRNA,$rRNA,$sequence,$GeneMark,$GeneMarkHMM,$Glimmer3 $output</command>
  <inputs>
    <page>
      <display>
        <p><div class="toolFormTitle">Select the Desired Kingdom</div>$kingdom</p>
      </display>
      <param name="kingdom" type="select" display="radio">
        <select_options func="get_options_for_kingdoms" />
      </param>
    </page>
    <page>
      <display>
        <p><div class="toolFormTitle">Select the Desired Organism</div>$org</p>
      </display>
      <param name="org" type="select" display="radio">
        <select_options func="get_options_for_orgs_by_kingdom">
          <func_param name="kingdom" value="kingdom" />
        </select_options>
      </param>
    </page>
    <page>
      <display>
        <p><div class="toolFormTitle">Select Desired Coding Sequences</div>$CDS</p>
        <p><div class="toolFormTitle">Select Desired tRNA</div>$tRNA</p>
        <p><div class="toolFormTitle">Select Desired rRNA</div>$rRNA</p>
        <p><div class="toolFormTitle">Select Desired DNA Sequences</div>$sequence</p>
        <p><div class="toolFormTitle">Select Desired GeneMark Annotations</div>$GeneMark</p>
        <p><div class="toolFormTitle">Select Desired GeneMarkHMM Annotations</div>$GeneMarkHMM</p>
        <p><div class="toolFormTitle">Select Desired Glimmer3 Annotations</div>$Glimmer3</p>
      </display>
      <param name="CDS" type="select" display="checkboxes" multiple="True">
        <select_options func="get_options_for_kingdom_org_feature">
          <func_param name="kingdom" value="kingdom" />
          <func_param name="org" value="org" />
          <func_param name="feature" value="CDS" />
        </select_options>
      </param>
      <param name="tRNA" type="select" display="checkboxes" multiple="True">
        <select_options func="get_options_for_kingdom_org_feature">
          <func_param name="kingdom" value="kingdom" />
          <func_param name="org" value="org" />
          <func_param name="feature" value="tRNA" />
        </select_options>
      </param>
      <param name="rRNA" type="select" display="checkboxes" multiple="True">
        <select_options func="get_options_for_kingdom_org_feature">
          <func_param name="kingdom" value="kingdom" />
          <func_param name="org" value="org" />
          <func_param name="feature" value="rRNA" />
        </select_options>
      </param>
      <param name="sequence" type="select" display="checkboxes" multiple="True">
        <select_options func="get_options_for_kingdom_org_feature">
          <func_param name="kingdom" value="kingdom" />
          <func_param name="org" value="org" />
          <func_param name="feature" value="sequence" />
        </select_options>
      </param>
      <param name="GeneMark" type="select" display="checkboxes" multiple="True">
        <select_options func="get_options_for_kingdom_org_feature">
          <func_param name="kingdom" value="kingdom" />
          <func_param name="org" value="org" />
          <func_param name="feature" value="GeneMark" />
        </select_options>
      </param>
      <param name="GeneMarkHMM" type="select" display="checkboxes" multiple="True">
        <select_options func="get_options_for_kingdom_org_feature">
          <func_param name="kingdom" value="kingdom" />
          <func_param name="org" value="org" />
          <func_param name="feature" value="GeneMarkHMM" />
        </select_options>
      </param>
      <param name="Glimmer3" type="select" display="checkboxes" multiple="True">
        <select_options func="get_options_for_kingdom_org_feature">
          <func_param name="kingdom" value="kingdom" />
          <func_param name="org" value="org" />
          <func_param name="feature" value="Glimmer3" />
        </select_options>
      </param>
    </page>
  </inputs>
  <outputs>
    <data format="bed" name="output"/>
  </outputs>
  <code file="microbial_import_code.py"/>
  <help>

This tool will allow you to obtain various genomic datasets for any completed Microbial Genome Project as listed at NCBI_.

.. _NCBI: http://www.ncbi.nlm.nih.gov/genomes/lproks.cgi?view=1

Current datasets available include
  1. CDS
  2. tRNA
  3. rRNA
  4. FASTA Sequences
  5. GeneMark Annotations
  6. GeneMarkHMM Annotations
  7. Glimmer3 Annotations

-----

Organisms in **bold** are available at the UCSC Browser.

-----

.. class:: infomark

**Note:** Having trouble locating your organism?  Click here_ for a list of available species and their location.

.. _here: http://www.bx.psu.edu/cgi-bin/trac.cgi/wiki/Microbes

  </help>
</tool>
