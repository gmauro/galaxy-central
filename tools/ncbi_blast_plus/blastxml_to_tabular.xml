<tool id="blastxml_to_tabular" name="BLAST XML to tabular" version="0.0.3">
    <description>Convert BLAST XML output to tabular</description>
    <command interpreter="python">
      blastxml_to_tabular.py $blastxml_file $tabular_file
    </command>
    <inputs>
        <param name="blastxml_file" type="data" format="blastxml" label="BLAST results as XML"/> 
    </inputs>
    <outputs>
        <data name="tabular_file" format="tabular" label="BLAST results as tabular" />
    </outputs>
    <requirements>
    </requirements>
    <tests>
        <test>
            <param name="blastxml_file" value="blastp_sample.xml" ftype="blastxml" />
            <!-- Note this has some white space differences from the actual blastp output -->
            <output name="tabular_file" file="blastp_sample_converted.tabular" ftype="tabular" />
        </test>
        <test>
            <param name="blastxml_file" value="blastx_sample.xml" ftype="blastxml" />
            <!-- Note this has some white space differences from the actual blastx output -->
            <output name="tabular_file" file="blastx_sample_converted.tabular" ftype="tabular" />
        </test>
    </tests>
    <help>
    
**What it does**

NCBI BLAST+ (and the older NCBI 'legacy' BLAST) can output in a range of formats including
tabular and a more detailed XML format. A complex workflow may need both the XML and the
tabular output.

This tool takes the BLAST XML output and converts it into the 12 column tabular equivalent:

====== ========= ============================================
Column NCBI name Description
------ --------- --------------------------------------------
     1 qseqid    Query Seq-id (ID of your sequence)
     2 sseqid    Subject Seq-id (ID of the database hit)
     3 pident    Percentage of identical matches
     4 length    Alignment length
     5 mismatch  Number of mismatches
     6 gapopen   Number of gap openings
     7 qstart    Start of alignment in query
     8 qend      End of alignment in query
     9 sstart    Start of alignment in subject (database hit)
    10 send      End of alignment in subject (database hit)
    11 evalue    Expectation value (E-value)
    12 bitscore  Bit score
====== ========= ============================================

    </help>
</tool>
