<tool id="rgEigPCA2" name="Eigensoft">
    <code file="listFiles.py"/> 
    <code file="rgEigPCA2_code.py"/> 

    <description>Ancestry eigenvalue estimation and plotting</description>
  
    <command interpreter="python2.4">
    rgEigPCA2.py $i.extra_files_path/$i.metadata.base_name "$title" 
    $out_file1 $out_file1.files_path $k $m $t $s $pca
    </command>
    
    <inputs>    
       
       <param name="i"  type="data" label="Eigenstrat genotype data file" 
          size="80" format="eigenstratgeno" /> 
       <param name="title"  type="text" value="My Eigensoft run" label="Title for outputs from this run" 
          size="80"  /> 
       <param name="k"  type="integer" value="10" label="Number of principal components to output" 
          size="3"  /> 
       <param name="m"  type="integer" value="0" label="Max. outlier removal iterations" 
          help="To turn on outlier removal, set m=5 or so. Do this if you plan on adjusting any analyses" 
          size="3"  /> 
       <param name="t"  type="integer" value="10" label="# principal components used for outlier removal" 
          size="3"  /> 
       <param name="s"  type="integer" value="6" label="#SDs for outlier removal"
          help = "Any individual with SD along one of k top principal components > s will be removed as an outlier." 
          size="3"  /> 

   </inputs>
  
   <outputs>  
       <data name="out_file1" format="html" />
       <data name="pca" format="tabular" />
   </outputs>
<help>


**Syntax**

- **Genotype data** is the input eigenstrat genotype file chosen from available library files. 
- **Title** is used to name the output files
- **Tuning parameters** are set to program defaults

(Note that you may need to convert an existing genotype file into that format to use this tool)

-----

**Summary**

This tool runs the Eigensoft program to estimate ancestry eigenvectors. The resulting eigenvectors can be
used subsequently for an adjusted analysis. For full attribution, source code and documentation, see 
http://genepath.med.harvard.edu/~reich/Software.htm

Galaxy tool wrapper originally designed and written for family based data from the CAMP Illumina run of 2007 by 
ross lazarus (ross.lazarus@gmail.com)

copyright Ross Lazarus 2007
Licensed under the terms of the LGPL
as documented http://www.gnu.org/licenses/lgpl.html
</help>
</tool>

