<tool id="Interval2Maf1" name="Extract MAF blocks">
  <description>from locally cached alignments</description>
  <command interpreter="python2.4">interval2maf.py --dbkey=$dbkey --chromCol=$input1_chromCol --startCol=$input1_startCol --endCol=$input1_endCol --strandCol=$input1_strandCol --mafType=$mafType --interval_file=$input1 --output_file=$out_file1</command>
  <inputs>
    <page>
        <param format="interval" name="input1" type="data" label="Choose intervals"/>
    </page>
    <page>
        <param name="mafType" label="Choose alignments" type="select" dynamic_options="get_available_data( input1.dbkey )"/>
    </page>
   </inputs>
  <outputs>
    <data format="maf" name="out_file1" />
  </outputs>
  <tests>
    <test>
      <param name="input1" value="1.bed"/>
      <param name="mafType" value="ENCODE_TBA_hg17"/>
      <output name="out_file1" file="fsa_interval2maf.dat" />
    </test>
  </tests>
  <help>

.. class:: infomark

What is the differences between these two tools: **Extract MAF blocks from locally cached alignments** and **Extract MAF blocks from user supplied alignments**?
 
 * **Extract MAF blocks from locally cached alignments** uses alignments stored at Galaxy installation at Penn State and is appropriate for most situations.  It takes only one dataset as the input - a list of genomic intervals.
 * **Extract MAF blocks from user supplied alignments** allows the user to work with his/her own alignemnts instead of those cached at Galaxy site. This tool takes two datasets as inputs - (1) genomic intervals and (2) alignemnts. 

-----

**What it does**

This tool takes genomic coordinates, superimposes them on multiple alignments (in MAF format) stored on Galaxy site, and excises alignment blocks corresponding to each set of coordinates. Alignment blocks that extend past START and/or END positions of an interval are trimmed. Note that a single genomic interval may correspond to two or more alignment blocks. 

-----

**Example** 

Here a single interval is superimposed on three MAF blocks. Blocks 1 and 3 are trimmed because they extend beyond boundaries of the interval:

.. image:: ../static/images/maf_icons/interval2maf.png

  </help>
  <code file="interval2maf_code.py"/>
</tool>
