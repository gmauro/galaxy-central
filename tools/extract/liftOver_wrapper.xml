<tool id="liftOver1" name="Convert genome coordinates">
  <description> between assemblies and genomes</description>
  <command interpreter="python">liftOver_wrapper.py $input "$out_file1" "$out_file2" $dbkey $to_dbkey</command>
  <inputs>
    <param format="bed" name="input" type="data" label="Convert coordinates of">
      <validator type="unspecified_build" />
    </param>
    <param name="to_dbkey" type="select" label="To">
      <options from_file="/depot/data2/galaxy/liftOver.loc" name_col="1" value_col="2">
        <filter type="data_meta" data_ref="input" meta_key="dbkey" meta_key_col="0"/>
      </options>
    </param> 
  </inputs>
  <outputs>
    <data format="bed" name="out_file1" />
    <data format="bed" name="out_file2" />
  </outputs>
  <!--
  <tests>
    <test>
      <param name="input" value="5.bed" dbkey="hg18" ftype="bed" />
      <param name="to_dbkey" value="/depot/data2/galaxy/hg18/liftOver/hg18ToPanTro2.over.chain" />
      <output name="out_file1" file="5_liftover_mapped.bed"/>
      <output name="out_file2" file="5_liftover_unmapped.bed"/>
    </test>
  </tests>
  -->
  <help>

.. class:: warningmark

Make sure that the genome build of the input dataset is specified (click the pencil icon in the history item to set it if necessary).

.. class:: warningmark

The **To** list will be empty if we don't carry any liftover mappings corresponding to the genome build of the input dataset. 

-----

.. class:: infomark

**What it does**

This tool converts coordinates and annotations between assemblies and genomes. It produces 2 files, one containing all the mapped coordinates and the other containing the unmapped coordinates, if any. 

-----

**Example**

Converting the following hg16 intervals to hg18 intervals::

    chrX  85170   112199  AK002185  0  +
    chrX  110458  112199  AK097346  0  +
    chrX  112203  121212  AK074528  0  -

will produce the following hg18 intervals::

    chrX  132991  160020  AK002185  0  +
    chrX  158279  160020  AK097346  0  +
    chrX  160024  169033  AK074528  0  -

</help>
<code file="liftOver_wrapper_code.py"/>
</tool>
