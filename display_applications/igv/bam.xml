<display id="igv_bam" version="1.0.0" name="display with IGV">
    <link id="web" name="web">
        <url>$jnlp.url</url>
        <param type="data" name="bam_file" url="galaxy_${DATASET_HASH}.bam" strip_https="True" />
        <param type="data" name="bai_file" url="galaxy_${DATASET_HASH}.bam.bai" metadata="bam_index" strip_https="True" />
        <param type="template" name="jnlp" url="galaxy_${DATASET_HASH}.jnlp" viewable="True" strip_https="True" mimetype="application/x-java-jnlp-file">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;jnlp
  spec=&quot;1.0+&quot;
  codebase=&quot;http://www.broadinstitute.org/igvdata/jws/prod&quot;&gt;
  &lt;information&gt;
    &lt;title&gt;IGV 1.5&lt;/title&gt;
    &lt;vendor&gt;The Broad Institute&lt;/vendor&gt;
    &lt;homepage href=&quot;http://www.broadinstitute.org/igv&quot;/&gt;
    &lt;description&gt;IGV Software&lt;/description&gt;
    &lt;description kind=&quot;short&quot;&gt;IGV&lt;/description&gt;
  &lt;/information&gt;
  &lt;security&gt;
      &lt;all-permissions/&gt;
  &lt;/security&gt;
  &lt;resources&gt;
  
&lt;j2se version=&quot;1.5+&quot; initial-heap-size=&quot;256m&quot; max-heap-size=&quot;1100m&quot;/&gt;    
	&lt;jar href=&quot;igv.jar&quot; download=&quot;eager&quot; main=&quot;true&quot;/&gt;
    &lt;jar href=&quot;batik-codec.jar&quot; download=&quot;eager&quot;/&gt; 
    &lt;property name=&quot;apple.laf.useScreenMenuBar&quot; value=&quot;true&quot;/&gt;
    &lt;property name=&quot;com.apple.mrj.application.growbox.intrudes&quot; value=&quot;false&quot;/&gt;
    &lt;property name=&quot;com.apple.mrj.application.live-resize&quot; value=&quot;true&quot;/&gt;
    &lt;property name=&quot;com.apple.macos.smallTabs&quot; value=&quot;true&quot;/&gt;
  &lt;/resources&gt;
	
    &lt;resources os=&quot;Mac&quot; arch=&quot;i386&quot;&gt;
        &lt;property name=&quot;apple.awt.graphics.UseQuartz&quot; value=&quot;false&quot;/&gt;
        &lt;nativelib href=&quot;hdfnative-macintel.jar&quot;/&gt; 
    &lt;/resources&gt;

    &lt;resources os=&quot;Mac&quot; arch=&quot;ppc&quot;&gt;
        &lt;property name=&quot;apple.awt.graphics.UseQuartz&quot; value=&quot;false&quot;/&gt;
        &lt;nativelib href=&quot;hdfnative-macppc.jar&quot;/&gt; 
    &lt;/resources&gt;
    
    &lt;resources os=&quot;Mac&quot; arch=&quot;PowerPC&quot;&gt;
        &lt;property name=&quot;apple.awt.graphics.UseQuartz&quot; value=&quot;false&quot;/&gt;
        &lt;nativelib href=&quot;hdfnative-macppc.jar&quot;/&gt; 
    &lt;/resources&gt;

    &lt;resources os=&quot;Windows&quot;&gt;
        &lt;property name=&quot;sun.java2d.noddraw&quot; value=&quot;true&quot;/&gt;
        &lt;nativelib href=&quot;hdfnative-win.jar&quot;/&gt; 
    &lt;/resources&gt;

    &lt;resources os=&quot;Linux&quot;&gt;
        &lt;nativelib href=&quot;hdfnative-linux64.jar&quot;/&gt; 
    &lt;/resources&gt;

  &lt;application-desc main-class=&quot;org.broad.igv.ui.IGVMainFrame&quot;&gt;
     &lt;argument&gt;-g&lt;/argument&gt;
     &lt;argument&gt;${bam_file.dbkey}&lt;/argument&gt;
     &lt;argument&gt;${bam_file.url}&lt;/argument&gt;
  &lt;/application-desc&gt;
&lt;/jnlp&gt;

		</param>
	</link>
		
    <link id="local" name="local">
        <url>http://localhost:60151/load?file=${qp($bam_file.url)}&amp;genome=${qp($bam_file.dbkey)}&amp;merge=true</url>
        <param type="data" name="bam_file" url="galaxy_${DATASET_HASH}.bam" strip_https="True" />
        <param type="data" name="bai_file" url="galaxy_${DATASET_HASH}.bam.bai" metadata="bam_index" strip_https="True" />
	</link>
</display>
